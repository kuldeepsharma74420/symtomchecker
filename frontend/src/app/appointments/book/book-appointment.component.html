<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <app-back-button></app-back-button>
      
      <div class="glass-card p-4 p-md-5 fade-in">
        <div class="text-center mb-4">
          <h2 class="fw-bold text-primary-custom mb-2">ğŸ“… Book Appointment</h2>
          <p class="text-secondary-custom">Schedule a consultation with our qualified doctors</p>
        </div>
        
        <form (ngSubmit)="bookAppointment()" class="needs-validation" novalidate>
          <div class="mb-4">
            <label class="form-label text-secondary-custom fw-600 mb-2">ğŸ‘¨âš•ï¸ Select Doctor</label>
            <select 
              class="form-control-modern w-100" 
              [(ngModel)]="selectedDoctorId" 
              name="doctor"
              required>
              <option value="">Choose a doctor...</option>
              <option *ngFor="let doctor of doctors" [value]="doctor.id">
                Dr. {{doctor.fullName}} - {{doctor.email}}
              </option>
            </select>
          </div>
          
          <div class="mb-4">
            <label class="form-label text-secondary-custom fw-600 mb-2">ğŸ“… Appointment Date</label>
            <input 
              type="date" 
              class="form-control-modern w-100" 
              [(ngModel)]="appointmentDate" 
              name="date"
              [min]="minDate"
              required>
          </div>
          
          <div class="mb-4">
            <label class="form-label text-secondary-custom fw-600 mb-2">â° Appointment Time</label>
            <input 
              type="time" 
              class="form-control-modern w-100" 
              [(ngModel)]="appointmentTime" 
              name="time"
              required>
          </div>
          
          <div class="mb-4">
            <label class="form-label text-secondary-custom fw-600 mb-2">ğŸ“ Notes (Optional)</label>
            <textarea 
              class="form-control-modern w-100" 
              [(ngModel)]="notes" 
              name="notes"
              rows="4"
              placeholder="Any specific concerns or symptoms you'd like to discuss..."></textarea>
          </div>
          
          <button 
            type="submit" 
            class="btn btn-modern text-white w-100 d-flex align-items-center justify-content-center"
            [disabled]="loading || !selectedDoctorId || !appointmentDate || !appointmentTime">
            <span *ngIf="loading" class="loading-spinner me-2"></span>
            <span *ngIf="!loading">ğŸ“… Book Appointment</span>
            <span *ngIf="loading">Booking...</span>
          </button>
        </form>
        
        <div *ngIf="loadingDoctors" class="text-center mt-4">
          <div class="loading-spinner mx-auto mb-2"></div>
          <small class="text-secondary-custom">Loading available doctors...</small>
        </div>
      </div>
    </div>
  </div>
</div>